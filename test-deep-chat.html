<!DOCTYPE html>
<html>
<head>
    <title>Deep Chat Test</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/deep-chat@2.2.2/dist/index.js"></script>
</head>
<body>
    <h1>Deep Chat Test</h1>
    
    <deep-chat 
        style="height: 500px; width: 100%;"
        intro-message='{"text": "Hello! This is a test of Deep Chat."}'
        connect='{"handler": "testHandler"}'
    ></deep-chat>

    <script>
        window.testHandler = async (body, signals) => {
            console.log('Test handler called:', body);
            console.log('Signals object:', signals);
            
            setTimeout(() => {
                console.log('Sending test response...');
                signals.onResponse({text: "Test response from handler!"});
                console.log('Response sent!');
            }, 100);
        };
    </script>
</body>
</html>
