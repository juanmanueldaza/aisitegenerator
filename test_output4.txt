
> aisitegenerator@0.0.0 test:coverage
> vitest run --coverage


 RUN  v2.1.9 /home/ultravietnamita/TryOuts/aisitegenerator
      Coverage enabled with v8

 ✓ src/services/ai/gemini.integration.test.ts (10 tests) 14ms
 ❯ tests/unit/components/AiProviderSettings.test.tsx (19 tests | 19 failed) 20ms
   × AiProviderSettings > renders provider settings interface 11ms
     → React is not defined
   × AiProviderSettings > displays provider selector with all available providers 1ms
     → React is not defined
   × AiProviderSettings > shows selected provider information and models 1ms
     → React is not defined
   × AiProviderSettings > switches provider information when selection changes 1ms
     → React is not defined
   × AiProviderSettings > displays API key input for selected provider 1ms
     → React is not defined
   × AiProviderSettings > updates API key when input changes 1ms
     → React is not defined
   × AiProviderSettings > shows security notice for API key storage 0ms
     → React is not defined
   × AiProviderSettings > displays test connection button 0ms
     → React is not defined
   × AiProviderSettings > disables test button when no API key is present 1ms
     → React is not defined
   × AiProviderSettings > shows testing state when connection test is in progress 0ms
     → React is not defined
   × AiProviderSettings > handles successful connection test 0ms
     → React is not defined
   × AiProviderSettings > handles failed connection test 0ms
     → React is not defined
   × AiProviderSettings > handles connection test error 0ms
     → React is not defined
   × AiProviderSettings > displays provider status grid 0ms
     → React is not defined
   × AiProviderSettings > shows correct status for each provider 0ms
     → React is not defined
   × AiProviderSettings > calls onClose when close button is clicked 0ms
     → React is not defined
   × AiProviderSettings > applies custom className 0ms
     → React is not defined
   × AiProviderSettings > handles switching between providers and maintaining API keys 0ms
     → React is not defined
   × AiProviderSettings > maintains test results when switching providers 0ms
     → React is not defined
 ❯ tests/unit/components/RepositoryCreator.test.tsx (0 test)
 ✓ tests/unit/hooks/useLocalStorageSync.test.ts (8 tests) 51ms
 ❯ tests/unit/hooks/useSites.test.ts (10 tests | 3 failed) 61ms
   × useSites > should handle rapid successive operations 7ms
     → Cannot read properties of null (reading 'loadSites')
   × useSites > should handle different configuration objects 2ms
     → Cannot read properties of null (reading 'createSite')
   × useSites > should maintain sites state across operations 2ms
     → Cannot read properties of null (reading 'sites')
 ✓ src/components/tabs/DeployTab.test.tsx (10 tests) 199ms
stdout | src/services/ai/index.selection.test.ts > useAIProvider selection > throws error when requesting gemini but only proxy is available
[AI] strategy-manager.init { message: 'Initializing AI provider strategies' }
[AI] strategy-manager.init { message: 'Registered Proxy strategy' }
[AI] strategy-manager.init {
  message: 'Strategy manager initialization complete',
  availableStrategies: [ 'proxy' ]
}
[AI] getAIProvider { requested: 'gemini', available: [ 'proxy' ], isAvailable: false }

stdout | src/services/ai/index.selection.test.ts > useAIProvider selection > returns gemini when API key is available
[AI] strategy-manager.init { message: 'Initializing AI provider strategies' }
[AI] strategy-manager.init { message: 'Registered Gemini strategy' }
[AI] strategy-manager.init { message: 'Registered Google AI SDK strategy' }
[AI] strategy-manager.init {
  message: 'Strategy manager initialization complete',
  availableStrategies: [ 'gemini', 'google-sdk' ]
}
[AI] getAIProvider {
  requested: 'gemini',
  available: [ 'gemini', 'google-sdk' ],
  isAvailable: true
}

stdout | src/services/ai/index.selection.test.ts > useAIProvider selection > throws error when no providers are available
[AI] strategy-manager.init { message: 'Initializing AI provider strategies' }
[AI] strategy-manager.init {
  message: 'Strategy manager initialization complete',
  availableStrategies: []
}
[AI] getAIProvider { requested: 'gemini', available: [], isAvailable: false }

stdout | src/services/ai/index.selection.test.ts > useAIProvider selection > returns proxy when requesting proxy and it is available
[AI] strategy-manager.init { message: 'Initializing AI provider strategies' }
[AI] strategy-manager.init { message: 'Registered Proxy strategy' }
[AI] strategy-manager.init {
  message: 'Strategy manager initialization complete',
  availableStrategies: [ 'proxy' ]
}
[AI] getAIProvider { requested: 'proxy', available: [ 'proxy' ], isAvailable: true }

 ✓ src/services/ai/index.selection.test.ts (4 tests) 71ms
 ✓ tests/unit/hooks/useLocalStorage.test.ts (9 tests) 60ms
stdout | tests/unit/hooks/useAuth.test.ts > useAuth > should handle successful login
Login logic to be implemented

 ✓ tests/unit/hooks/useDebouncedValue.test.ts (9 tests) 76ms
 ✓ src/components/tabs/EditorTab.test.tsx (9 tests) 260ms
 ❯ tests/unit/hooks/useAsyncOperation.test.ts (8 tests | 2 failed) 409ms
   × useAsyncOperation > should handle non-Error thrown values 14ms
     → expected undefined to be 'string error' // Object.is equality
   × useAsyncOperation > should reset error on new execution 2ms
     → First error
stdout | src/services/ai/proxyV2.test.ts > ProxyAIProviderV2 > generate returns parsed JSON on success
[AI] proxyV2.generate:request {
  reqId: 'aisdk_meykilib_4nz35f',
  url: '/api/ai-sdk/generate',
  headers: { 'Content-Type': 'application/json' },
  options: { provider: '(client-default)', model: '(server-default)' },
  lastMsgLen: 2,
  count: 1
}
[AI] proxyV2.generate:response_ok {
  reqId: 'aisdk_meykilib_4nz35f',
  ms: 3,
  finishReason: 'stop',
  textLen: 2
}

stdout | src/services/ai/proxyV2.test.ts > ProxyAIProviderV2 > generate throws error with status when non-ok
[AI] proxyV2.generate:request {
  reqId: 'aisdk_meykilik_y1yxax',
  url: '/api/ai-sdk/generate',
  headers: { 'Content-Type': 'application/json' },
  options: { provider: '(client-default)', model: '(server-default)' },
  lastMsgLen: 2,
  count: 1
}
[AI] proxyV2.generate:response_error { reqId: 'aisdk_meykilik_y1yxax', status: 500, body: 'boom', ms: 1 }

 ✓ tests/unit/hooks/useToast.test.ts (8 tests) 44ms
 ✓ tests/unit/hooks/useEventListener.test.ts (8 tests) 46ms
stdout | tests/unit/hooks/useAuth.test.ts > useAuth > should reset error state on new operations
Login logic to be implemented

stdout | tests/unit/hooks/useAuth.test.ts > useAuth > should maintain user state across operations
Login logic to be implemented

stdout | tests/unit/hooks/useAuth.test.ts > useAuth > should handle multiple concurrent operations
Login logic to be implemented

stdout | tests/unit/hooks/useAuth.test.ts > useAuth > should be resilient to rapid successive calls
Login logic to be implemented
Login logic to be implemented

 ❯ tests/unit/hooks/useAuth.test.ts (9 tests | 1 failed) 1065ms
   × useAuth > should handle successful logout 1017ms
     → expected true to be false // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
    [36m<div />[39m
    [36m<div />[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m
 ✓ src/store/siteStore.test.ts (4 tests) 7ms
stdout | src/services/ai/proxyV2.test.ts > ProxyAIProviderV2 > generate throws error with status when non-ok
[AI] proxyV2.generate:response_error { reqId: 'aisdk_meykilik_y1yxax', status: 500, body: 'boom', ms: 872 }

 ✓ src/utils/content.test.ts (4 tests) 122ms
 ✓ src/components/ui/InlineDiffView/InlineDiffView.test.tsx (2 tests) 117ms
 ✓ src/services/ai/gemini.test.ts (2 tests) 8ms
 ✓ src/components/tabs/SettingsTab.test.tsx (5 tests) 490ms
 ✓ src/components/LivePreview/LivePreview.test.tsx (2 tests) 188ms
 ✓ src/constants/ai.test.ts (3 tests) 3ms
 ✓ src/utils/inlineDiff.test.ts (1 test) 3ms
 ✓ src/utils/diff.test.ts (3 tests) 3ms
stdout | src/services/ai/proxyV2.test.ts > ProxyAIProviderV2 > generate throws error with status when non-ok
[AI] proxyV2.generate:response_error { reqId: 'aisdk_meykilik_y1yxax', status: 500, body: 'boom', ms: 2753 }

stdout | src/services/ai/proxyV2.test.ts > ProxyAIProviderV2 > generateStream yields lines split by newlines across chunk boundaries and flushes trailing buffer
[AI] proxyV2 headers: [ 'Content-Type' ] no X-GOOGLE-API-KEY
[AI] proxyV2.stream:request {
  reqId: 'aisdk_meykinn3_sqc0sl',
  url: '/api/ai-sdk/stream',
  headers: { 'Content-Type': 'application/json' },
  options: { provider: '(client-default)', model: '(server-default)' },
  lastMsgLen: 2,
  count: 1
}
[AI] proxyV2.stream:complete { reqId: 'aisdk_meykinn3_sqc0sl', ms: 0, emitted: 53 }

stdout | src/services/ai/proxyV2.test.ts > ProxyAIProviderV2 > generateStream retries on 500 once then succeeds; onRetry callback invoked
[AI] proxyV2 headers: [ 'Content-Type' ] no X-GOOGLE-API-KEY
[AI] proxyV2.stream:request {
  reqId: 'aisdk_meykinn4_85afng',
  url: '/api/ai-sdk/stream',
  headers: { 'Content-Type': 'application/json' },
  options: { provider: '(client-default)', model: '(server-default)' },
  lastMsgLen: 12,
  count: 1
}
[AI] proxyV2.stream:response_error { reqId: 'aisdk_meykinn4_85afng', status: 500, body: 'server down' }

stdout | src/services/ai/proxyV2.test.ts > ProxyAIProviderV2 > generateStream retries on 500 once then succeeds; onRetry callback invoked
[AI] proxyV2.stream:complete { reqId: 'aisdk_meykinn4_85afng', ms: 914, emitted: 7 }

 ✓ src/services/ai/proxyV2.test.ts (4 tests) 3684ms
   ✓ ProxyAIProviderV2 > generate throws error with status when non-ok 2755ms
   ✓ ProxyAIProviderV2 > generateStream retries on 500 once then succeeds; onRetry callback invoked 915ms
 ❯ tests/unit/components/ChatTab.test.tsx (13 tests | 13 failed) 8252ms
   × ChatTab > renders chat interface with AI connection status 93ms
     → Unable to find an element with the text: AI Connection. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0mLoading chat…[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × ChatTab > shows offline status when AI provider is not ready 20ms
     → Unable to find an element with the text: 🔴. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × ChatTab > renders Deep Chat component with correct props 1014ms
     → Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   × ChatTab > handles message handler in offline mode 1011ms
     → Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   × ChatTab > handles message with empty text 1010ms
     → Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   × ChatTab > builds history from store messages 11ms
     → Unable to find an element with the text: AI Connection. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m"[object Object],[object Object]"[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × ChatTab > handles streaming response from AI provider 1012ms
     → Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object],[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33ms...
   × ChatTab > handles non-streaming response from AI provider 1015ms
     → Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object],[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33ms...
   × ChatTab > detects HTML content and switches to editor 1016ms
     → Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object],[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33ms...
   × ChatTab > handles AI provider errors gracefully 1015ms
     → Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object],[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33ms...
   × ChatTab > shows loading state while chat is initializing 13ms
     → Unable to find an element with the text: AI Connection. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...
   × ChatTab > maintains message history across re-renders 7ms
     → Unable to find an element with the text: AI Connection. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...
   × ChatTab > handles abort controller for request cancellation 1012ms
     → Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object],[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33ms...

⎯⎯⎯⎯⎯⎯ Failed Suites 1 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/unit/components/RepositoryCreator.test.tsx [ tests/unit/components/RepositoryCreator.test.tsx ]
Error: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock
 ❯ src/components/deployment/RepositoryCreator.tsx:7:31
      5| 
      6| import React, { useState, useCallback, useEffect, useMemo } from 'reac…
      7| import { Toast } from '@/components/ui';
       |                               ^
      8| import { useGitHub } from '../../hooks/useGitHub';
      9| import { useToast } from '../../hooks';

Caused by: ReferenceError: Cannot access 'mockNormalizeGitHubError' before initialization
 ❯ tests/unit/components/RepositoryCreator.test.tsx:12:25
 ❯ src/components/deployment/RepositoryCreator.tsx:7:31

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/39]⎯

⎯⎯⎯⎯⎯⎯ Failed Tests 38 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > renders provider settings interface
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:63:12
     61| 
     62|   it('renders provider settings interface', () => {
     63|     render(<AiProviderSettings />);
       |            ^
     64| 
     65|     expect(screen.getByText('AI Provider Settings')).toBeInTheDocument…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > displays provider selector with all available providers
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:73:12
     71| 
     72|   it('displays provider selector with all available providers', () => {
     73|     render(<AiProviderSettings />);
       |            ^
     74| 
     75|     const select = screen.getByRole('combobox');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > shows selected provider information and models
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:86:12
     84| 
     85|   it('shows selected provider information and models', () => {
     86|     render(<AiProviderSettings />);
       |            ^
     87| 
     88|     // Default selected provider should be Google

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > switches provider information when selection changes
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:100:12
     98| 
     99|   it('switches provider information when selection changes', () => {
    100|     render(<AiProviderSettings />);
       |            ^
    101| 
    102|     const select = screen.getByRole('combobox');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > displays API key input for selected provider
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:118:12
    116| 
    117|   it('displays API key input for selected provider', () => {
    118|     render(<AiProviderSettings />);
       |            ^
    119| 
    120|     const input = screen.getByLabelText('API Key for Google Gemini:');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > updates API key when input changes
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:127:12
    125| 
    126|   it('updates API key when input changes', () => {
    127|     render(<AiProviderSettings />);
       |            ^
    128| 
    129|     const input = screen.getByLabelText('API Key for Google Gemini:');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > shows security notice for API key storage
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:137:12
    135| 
    136|   it('shows security notice for API key storage', () => {
    137|     render(<AiProviderSettings />);
       |            ^
    138| 
    139|     expect(

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > displays test connection button
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:145:12
    143| 
    144|   it('displays test connection button', () => {
    145|     render(<AiProviderSettings />);
       |            ^
    146| 
    147|     const testButton = screen.getByRole('button', { name: 'Test Connec…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > disables test button when no API key is present
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:159:12
    157|     ]);
    158| 
    159|     render(<AiProviderSettings />);
       |            ^
    160| 
    161|     const testButton = screen.getByRole('button', { name: 'Test Connec…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > shows testing state when connection test is in progress
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:168:12
    166|     mockFetch.mockImplementation(() => new Promise(() => {})); // Neve…
    167| 
    168|     render(<AiProviderSettings />);
       |            ^
    169| 
    170|     const testButton = screen.getByRole('button', { name: 'Test Connec…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > handles successful connection test
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:183:12
    181|     } as Response);
    182| 
    183|     render(<AiProviderSettings />);
       |            ^
    184| 
    185|     const testButton = screen.getByRole('button', { name: 'Test Connec…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > handles failed connection test
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:214:12
    212|     } as Response);
    213| 
    214|     render(<AiProviderSettings />);
       |            ^
    215| 
    216|     const testButton = screen.getByRole('button', { name: 'Test Connec…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > handles connection test error
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:227:12
    225|     mockFetch.mockRejectedValue(new Error('Network error'));
    226| 
    227|     render(<AiProviderSettings />);
       |            ^
    228| 
    229|     const testButton = screen.getByRole('button', { name: 'Test Connec…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > displays provider status grid
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:238:12
    236| 
    237|   it('displays provider status grid', () => {
    238|     render(<AiProviderSettings />);
       |            ^
    239| 
    240|     expect(screen.getByText('Provider Status')).toBeInTheDocument();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > shows correct status for each provider
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:250:12
    248| 
    249|   it('shows correct status for each provider', () => {
    250|     render(<AiProviderSettings />);
       |            ^
    251| 
    252|     // Google should be configured

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > calls onClose when close button is clicked
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:267:12
    265|   it('calls onClose when close button is clicked', () => {
    266|     const mockOnClose = vi.fn();
    267|     render(<AiProviderSettings onClose={mockOnClose} />);
       |            ^
    268| 
    269|     const closeButton = screen.getByRole('button', { name: 'Close' });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > applies custom className
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:276:34
    274| 
    275|   it('applies custom className', () => {
    276|     const { container } = render(<AiProviderSettings className="custom…
       |                                  ^
    277| 
    278|     const settingsDiv = container.querySelector('.ai-provider-settings…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > handles switching between providers and maintaining API keys
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:283:12
    281| 
    282|   it('handles switching between providers and maintaining API keys', (…
    283|     render(<AiProviderSettings />);
       |            ^
    284| 
    285|     const select = screen.getByRole('combobox');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[19/39]⎯

 FAIL  tests/unit/components/AiProviderSettings.test.tsx > AiProviderSettings > maintains test results when switching providers
ReferenceError: React is not defined
 ❯ tests/unit/components/AiProviderSettings.test.tsx:306:12
    304|     } as Response);
    305| 
    306|     render(<AiProviderSettings />);
       |            ^
    307| 
    308|     // Test Google connection

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[20/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > renders chat interface with AI connection status
TestingLibraryElementError: Unable to find an element with the text: AI Connection. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0mLoading chat…[0m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/unit/components/ChatTab.test.tsx:121:19
    119|     render(<ChatTab />);
    120| 
    121|     expect(screen.getByText('AI Connection')).toBeInTheDocument();
       |                   ^
    122|     expect(screen.getByText('🟢')).toBeInTheDocument();
    123|     expect(screen.getByText('Provider: Gemini')).toBeInTheDocument();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[21/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > shows offline status when AI provider is not ready
TestingLibraryElementError: Unable to find an element with the text: 🔴. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/unit/components/ChatTab.test.tsx:135:19
    133|     render(<ChatTab />);
    134| 
    135|     expect(screen.getByText('🔴')).toBeInTheDocument();
       |                   ^
    136|     expect(screen.getByText('❌ AI provider not configured')).toBeInThe…
    137|     expect(

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[22/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > renders Deep Chat component with correct props
TestingLibraryElementError: Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ tests/unit/components/ChatTab.test.tsx:145:11
    143|     render(<ChatTab />);
    144| 
    145|     await waitFor(() => {
       |           ^
    146|       expect(screen.getByTestId('deep-chat')).toBeInTheDocument();
    147|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[23/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > handles message handler in offline mode
TestingLibraryElementError: Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ tests/unit/components/ChatTab.test.tsx:161:11
    159|     render(<ChatTab />);
    160| 
    161|     await waitFor(() => {
       |           ^
    162|       expect(screen.getByTestId('deep-chat')).toBeInTheDocument();
    163|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[24/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > handles message with empty text
TestingLibraryElementError: Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ tests/unit/components/ChatTab.test.tsx:173:11
    171|     render(<ChatTab />);
    172| 
    173|     await waitFor(() => {
       |           ^
    174|       expect(screen.getByTestId('deep-chat')).toBeInTheDocument();
    175|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[25/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > builds history from store messages
TestingLibraryElementError: Unable to find an element with the text: AI Connection. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m"[object Object],[object Object]"[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/unit/components/ChatTab.test.tsx:197:19
    195|     // The history is passed to DeepChat, we can verify the filtering …
    196|     // by checking that the component renders without errors
    197|     expect(screen.getByText('AI Connection')).toBeInTheDocument();
       |                   ^
    198|   });
    199| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[26/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > handles streaming response from AI provider
TestingLibraryElementError: Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object],[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33ms...
 ❯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ tests/unit/components/ChatTab.test.tsx:214:11
    212|     render(<ChatTab />);
    213| 
    214|     await waitFor(() => {
       |           ^
    215|       expect(screen.getByTestId('deep-chat')).toBeInTheDocument();
    216|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[27/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > handles non-streaming response from AI provider
TestingLibraryElementError: Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object],[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33ms...
 ❯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ tests/unit/components/ChatTab.test.tsx:231:11
    229|     render(<ChatTab />);
    230| 
    231|     await waitFor(() => {
       |           ^
    232|       expect(screen.getByTestId('deep-chat')).toBeInTheDocument();
    233|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[28/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > detects HTML content and switches to editor
TestingLibraryElementError: Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object],[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33ms...
 ❯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ tests/unit/components/ChatTab.test.tsx:249:11
    247|     render(<ChatTab />);
    248| 
    249|     await waitFor(() => {
       |           ^
    250|       expect(screen.getByTestId('deep-chat')).toBeInTheDocument();
    251|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[29/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > handles AI provider errors gracefully
TestingLibraryElementError: Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object],[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33ms...
 ❯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ tests/unit/components/ChatTab.test.tsx:266:11
    264|     render(<ChatTab />);
    265| 
    266|     await waitFor(() => {
       |           ^
    267|       expect(screen.getByTestId('deep-chat')).toBeInTheDocument();
    268|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[30/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > shows loading state while chat is initializing
TestingLibraryElementError: Unable to find an element with the text: AI Connection. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/unit/components/ChatTab.test.tsx:278:19
    276| 
    277|     // Initially shows loading or the chat interface
    278|     expect(screen.getByText('AI Connection')).toBeInTheDocument();
       |                   ^
    279|   });
    280| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[31/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > maintains message history across re-renders
TestingLibraryElementError: Unable to find an element with the text: AI Connection. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...
 ❯ Object.getElementError node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ tests/unit/components/ChatTab.test.tsx:293:19
    291|     const { rerender } = render(<ChatTab />);
    292| 
    293|     expect(screen.getByText('AI Connection')).toBeInTheDocument();
       |                   ^
    294| 
    295|     // Re-render with same messages

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[32/39]⎯

 FAIL  tests/unit/components/ChatTab.test.tsx > ChatTab > handles abort controller for request cancellation
TestingLibraryElementError: Found multiple elements by: [data-testid="deep-chat"]

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object],[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m"[object Object]"[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33mconnect[39m=[32m"[object Object]"[39m
  [33mdata-testid[39m=[32m"deep-chat"[39m
  [33mhistory[39m=[32m""[39m
  [33mintromessage[39m=[32m"[object Object]"[39m
  [33mrequestbodylimits[39m=[32m"[object Object]"[39m
  [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
  [33mtextinput[39m=[32m"[object Object]"[39m
[36m>[39m
  [36m<div>[39m
    [0mMock Deep Chat Component[0m
  [36m</div>[39m
  [36m<button[39m
    [33mdata-testid[39m=[32m"mock-send-button"[39m
  [36m>[39m
    [0mSend Mock Message[0m
  [36m</button>[39m
[36m</div>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🔴[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
        [36m>[39m
          [0m❌ AI provider not configured[0m
          [36m<div[39m
            [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
          [36m>[39m
            [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
        [36m>[39m
          [0m🟢[0m
          [0m AI Connection[0m
          [36m<span[39m
            [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
          [36m>[39m
            [0mProvider: Gemini[0m
          [36m</span>[39m
        [36m</h4>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
        [36m>[39m
          [0m✅ AI provider ready[0m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
      [36m>[39m
        [36m<div[39m
          [33mconnect[39m=[32m"[object Object]"[39m
          [33mdata-testid[39m=[32m"deep-chat"[39m
          [33mhistory[39m=[32m""[39m
          [33mintromessage[39m=[32m"[object Object]"[39m
          [33mrequestbodylimits[39m=[32m"[object Object]"[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
          [33mtextinput[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div>[39m
            [0mMock Deep Chat Component[0m
          [36m</div>[39m
          [36m<button[39m
            [33mdata-testid[39m=[32m"mock-send-button"[39m
          [36m>[39m
            [0mSend Mock Message[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
    [36m>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
      [36m>[39m
        [36m<h4[39m
          [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
     ...

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(248, 249, 250); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(233, 236, 239);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🔴[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(107, 114, 128);"[39m
          [36m>[39m
            [0m❌ AI provider not configured[0m
            [36m<div[39m
              [33mstyle[39m=[32m"margin-top: 8px; font-size: 12px;"[39m
            [36m>[39m
              [0mConfigure your AI provider in the Settings tab to enable chat functionality.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"padding: 16px; background-color: rgb(240, 249, 255); border-radius: 8px; margin-bottom: 16px; border: 2px solid rgb(59, 130, 246);"[39m
        [36m>[39m
          [36m<h4[39m
            [33mstyle[39m=[32m"margin: 0px 0px 12px 0px; font-size: 16px; color: rgb(55, 65, 81); display: flex; align-items: center; gap: 8px;"[39m
          [36m>[39m
            [0m🟢[0m
            [0m AI Connection[0m
            [36m<span[39m
              [33mstyle[39m=[32m"font-size: 12px; color: rgb(17, 24, 39); background: rgb(229, 231, 235); padding: 2px 6px; border-radius: 6px;"[39m
            [36m>[39m
              [0mProvider: Gemini[0m
            [36m</span>[39m
          [36m</h4>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"font-size: 13px; color: rgb(5, 150, 105);"[39m
          [36m>[39m
            [0m✅ AI provider ready[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"flex: 1 1 0%; min-height: 400px;"[39m
        [36m>[39m
          [36m<div[39m
            [33mconnect[39m=[32m"[object Object]"[39m
            [33mdata-testid[39m=[32m"deep-chat"[39m
            [33mhistory[39m=[32m""[39m
            [33mintromessage[39m=[32m"[object Object]"[39m
            [33mrequestbodylimits[39m=[32m"[object Object]"[39m
            [33mstyle[39m=[32m"height: 100%; width: 100%; border: 1px solid rgb(229, 231, 235); border-radius: 8px;"[39m
            [33mtextinput[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMock Deep Chat Component[0m
            [36m</div>[39m
            [36m<button[39m
              [33mdata-testid[39m=[32m"mock-send-button"[39m
            [36m>[39m
              [0mSend Mock Message[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mstyle[39m=[32m"height: 100%; display: flex; flex-direction: column;"[39m
      [36m>[39m
        [36m<div[39m
          [33ms...
 ❯ Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ tests/unit/components/ChatTab.test.tsx:304:11
    302|     render(<ChatTab />);
    303| 
    304|     await waitFor(() => {
       |           ^
    305|       expect(screen.getByTestId('deep-chat')).toBeInTheDocument();
    306|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[33/39]⎯

 FAIL  tests/unit/hooks/useAsyncOperation.test.ts > useAsyncOperation > should handle non-Error thrown values
AssertionError: expected undefined to be 'string error' // Object.is equality

- Expected: 
"string error"

+ Received: 
undefined

 ❯ tests/unit/hooks/useAsyncOperation.test.ts:89:43
     87|     });
     88| 
     89|     expect(result.current.error?.message).toBe('string error');
       |                                           ^
     90|     expect(result.current.data).toBe(null);
     91|     await expect(promise).rejects.toThrow('string error');

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[34/39]⎯

 FAIL  tests/unit/hooks/useAsyncOperation.test.ts > useAsyncOperation > should reset error on new execution
Error: First error
 ❯ tests/unit/hooks/useAsyncOperation.test.ts:95:19
     93| 
     94|   it('should reset error on new execution', async () => {
     95|     const error = new Error('First error');
       |                   ^
     96|     const asyncFn = vi.fn()
     97|       .mockRejectedValueOnce(error)

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[35/39]⎯

 FAIL  tests/unit/hooks/useAuth.test.ts > useAuth > should handle successful logout
AssertionError: expected true to be false // Object.is equality

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div />[39m
    [36m<div />[39m
    [36m<div />[39m
    [36m<div />[39m
  [36m</body>[39m
[36m</html>[39m

- Expected
+ Received

- false
+ true

 ❯ tests/unit/hooks/useAuth.test.ts:64:38
     62|     // Wait for initial loading to complete
     63|     await waitFor(() => {
     64|       expect(result.current.loading).toBe(false);
       |                                      ^
     65|     });
     66| 
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[36/39]⎯

 FAIL  tests/unit/hooks/useSites.test.ts > useSites > should handle rapid successive operations
TypeError: Cannot read properties of null (reading 'loadSites')
 ❯ tests/unit/hooks/useSites.test.ts:148:28
    146|     // Rapid succession of operations
    147|     await act(async () => {
    148|       await result.current.loadSites();
       |                            ^
    149|       await result.current.createSite({ name: 'Rapid Site 1' });
    150|       await result.current.loadSites();
 ❯ node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ process.env.NODE_ENV.exports.act node_modules/react/cjs/react.development.js:790:22
 ❯ Proxy.<anonymous> node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ tests/unit/hooks/useSites.test.ts:147:11

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[37/39]⎯

 FAIL  tests/unit/hooks/useSites.test.ts > useSites > should handle different configuration objects
TypeError: Cannot read properties of null (reading 'createSite')
 ❯ tests/unit/hooks/useSites.test.ts:174:30
    172|     for (const config of configs) {
    173|       await act(async () => {
    174|         await result.current.createSite(config);
       |                              ^
    175|       });
    176| 
 ❯ node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ process.env.NODE_ENV.exports.act node_modules/react/cjs/react.development.js:790:22
 ❯ Proxy.<anonymous> node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ tests/unit/hooks/useSites.test.ts:173:13

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[38/39]⎯

 FAIL  tests/unit/hooks/useSites.test.ts > useSites > should maintain sites state across operations
TypeError: Cannot read properties of null (reading 'sites')
 ❯ tests/unit/hooks/useSites.test.ts:189:27
    187|     const { result } = renderHook(() => useSites());
    188| 
    189|     expect(result.current.sites).toEqual([]);
       |                           ^
    190| 
    191|     // Load sites (currently returns empty array)

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[39/39]⎯

⎯⎯⎯⎯⎯⎯ Unhandled Errors ⎯⎯⎯⎯⎯⎯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

⎯⎯⎯⎯ Unhandled Rejection ⎯⎯⎯⎯⎯
Error: string error
 ❯ Object.execute src/hooks/index.ts:161:52
    159|         return result;
    160|       } catch (err) {
    161|         const error = err instanceof Error ? err : new Error(String(er…
       |                                                    ^
    162|         setError(error);
    163|         options.onError?.(error);

This error originated in "tests/unit/hooks/useAsyncOperation.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should handle non-Error thrown values". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 Test Files  6 failed | 19 passed (25)
      Tests  38 failed | 126 passed (164)
     Errors  1 error
   Start at  15:01:09
   Duration  9.95s (transform 1.27s, setup 1.72s, collect 3.35s, tests 15.25s, environment 12.35s, prepare 2.33s)

